{% extends "@VSApplication/layout.html.twig" %}

{% block title %}{{ parent() }} :: {{ 'vs_cms.template.pages_index_title' | trans( {},'VSCmsBundle' ) }}{% endblock %}
{% block pageTitle %}<i class="icon_genius"></i> {{ 'vs_cms.template.pages_index_title' | trans( {},'VSCmsBundle' ) }}{% endblock %}

{% block content %}
    <div class="row">
        <!-- ============================================================== -->
        <!-- basic tabs  -->
        <!-- ============================================================== -->
        
        <div class="accrodion-regular col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <div id="accordion">
                {% for cat in categories %}
                    {% if not cat.parent and cat.pages | length %}
                    	{% set dataParent = '#accordion' %}
                        {% include '@VSCms/Pages/Pages/partial/pages_table.html.twig' %}
        			{% endif %}
       			{% endfor %}
       			
       			<!-- Uncategorized Pages -->
        		<div class="card mb-2">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" data-bs-toggle="collapse" data-bs-target="#collapseUncategorized" aria-expanded="false" aria-controls="collapseUncategorized">
                                <span class="fas fa-angle-down mr-3"></span>{{ 'vs_cms.template.uncategorized_pages' | trans( {},'VSCmsBundle' ) }}
                            </button>
                        </h5>
                    </div>
                    <div id="collapseUncategorized" class="collapse" aria-labelledby="headingUncategorized" data-parent="#accordion" style="">
                        <div class="card-body">
                            <table class="table table-striped table-advance table-hover">
                                <thead>
                                    <tr>
                                    	<th width="50">N</th>
                                        <th>{{ 'vs_cms.template.pages_index_row_title' | trans( {},'VSCmsBundle' ) }}</th>
                                        <th>{{ 'vs_cms.template.pages_index_row_slug' | trans( {},'VSCmsBundle' ) }}</th>
                                        
                                        <th>{{ 'vs_cms.template.pages_index_row_published' | trans( {},'VSCmsBundle' ) }}</th>
                                        <th>{{ 'vs_cms.template.pages_index_row_locales' | trans( {},'VSCmsBundle' ) }}</th>
                                        <th>{{ 'vs_cms.template.pages_index_row_log_versions' | trans( {},'VSCmsBundle' ) }}</th>
                                        <th width="150">{{ 'vs_cms.template.pages_index_row_action' | trans( {},'VSCmsBundle' ) }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                            {% for item in items %}
                            	{% if item.categories is empty %}
                            	   {% include '@VSCms/Pages/Pages/partial/pages_table_row.html.twig' %}
                                {% endif %}
                            {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- END Uncategorized Pages -->
            </div>
        </div>
    </div>
    
    {% include '@VSApplication/Partial/resource-delete.html.twig' %}
{% endblock content %}

{% block modals %}
    {{ parent() }}
    
    <div id="page-clone-modal" class="modal" tabindex="-1" role="dialog" aria-hidden="true">
        {% include '@VSCms/Modals/pages_page_clone.html.twig' %}
    </div>
    <div id="page-preview-modal" class="modal" tabindex="-1" role="dialog" aria-hidden="true">
        {% include '@VSCms/Modals/pages_page_preview.html.twig' %}
    </div>
{% endblock %}

{% block head_styles %}
    {{ parent() }}
    {{ encore_entry_link_tags( 'js/pages-index' ) }}
{% endblock %}

{% block body_scripts %}
    {{ parent() }}
    {{ encore_entry_script_tags( 'js/pages-index' ) }}
{% endblock %}

