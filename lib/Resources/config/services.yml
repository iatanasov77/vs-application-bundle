imports:
    - { resource: services/form.yaml }
    - { resource: services/theme.yaml }
    - { resource: services/menu.yaml }
    - { resource: services/i18n.yaml }

parameters:
    #ia_cms.example.class: IACmsBundle\Example
    menu.config_file: "%kernel.root_dir%/../config/packages/vs_application.yaml"

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: true
    
    VS\ApplicationBundle\Controller\AuthController:
        tags: ['controller.service_arguments']
        autowire: false
        
    ##############################################################
    # Maintenance mode services
    ##############################################################
    vs_app.twig.alerts:
        class: VS\ApplicationBundle\Twig\Alerts
    
    vs_app.listener.maintenance:
        class: VS\ApplicationBundle\EventListener\MaintenanceListener
        arguments: 
            - '@service_container'
        tags:
            - { name: 'kernel.event_listener', event: 'kernel.request', method: 'onKernelRequest' }
            
    ##############################################################
    # Console commands
    ##############################################################
    vs_app.command.bumpversion:
        class: VS\ApplicationBundle\Command\BumpVersionCommand
        tags:
            - 'console.command'
    vs_app.command.assets.sources:
        class: VS\ApplicationBundle\Command\AssetsSourcesCommand
        arguments:
            - '@filesystem'
        tags:
            - 'console.command'
    vs_app.command.assets.dependencies:
        class: VS\ApplicationBundle\Command\CheckAssetDependenciesCommand
        arguments:
            - '@filesystem'
        tags:
            - 'console.command'
